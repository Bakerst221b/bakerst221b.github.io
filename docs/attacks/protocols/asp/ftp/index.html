<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>FTP and sFTP - Analyst</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="icon" href="http://localhost:1313/favicon.png">
  <link href="/css/style-classic.css"></link>
  
  
  <link rel="stylesheet" href="/css/style.css">
  

  

</head>

<body class='page page-default-single'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-home ğŸ¡">
      <a href="/">
        <span>Home ğŸ¡</span>
      </a>
    </li>
    
    <li class="menu-item-blog âœï¸">
      <a href="/docs/blog">
        <span>Blog âœï¸</span>
      </a>
    </li>
    
    <li class="menu-item-ttp ğŸ”">
      <a href="/docs/ttp">
        <span>TTP ğŸ”</span>
      </a>
    </li>
    
    <li class="menu-item-artefacts db ğŸº">
      <a href="/docs/artefacts">
        <span>Artefacts DB ğŸº</span>
      </a>
    </li>
    
    <li class="menu-item-attacks db âš”ï¸">
      <a href="/docs/attacks">
        <span>Attacks DB âš”ï¸</span>
      </a>
    </li>
    
    <li class="menu-item-tools db ğŸ› ï¸">
      <a href="/docs/tools">
        <span>Tools DB ğŸ› ï¸</span>
      </a>
    </li>
    
    <li class="menu-item-crypto ğŸ—ï¸">
      <a href="/docs/cryptography">
        <span>Crypto ğŸ—ï¸</span>
      </a>
    </li>
    
    <li class="menu-item-about me ğŸ§ğŸ½â€â™€ï¸">
      <a href="/docs/about">
        <span>About me ğŸ§ğŸ½â€â™€ï¸</span>
      </a>
    </li>
    
  </ul>
</div>
  <div class="wrapper">
    <div class='header'>
  <div class="container">
    <div class="logo">
      <a href="http://localhost:1313/"><img alt="Logo" src="/images/logo.png" /></a>
    </div>
    <div class="logo-mobile">
      <a href="http://localhost:1313/"><img alt="Logo" src="/images/logo-mobile.svg" /></a>
    </div>
    

    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-home ğŸ¡">
      <a href="/">
        <span>Home ğŸ¡</span>
      </a>
    </li>
    
    <li class="menu-item-blog âœï¸">
      <a href="/docs/blog">
        <span>Blog âœï¸</span>
      </a>
    </li>
    
    <li class="menu-item-ttp ğŸ”">
      <a href="/docs/ttp">
        <span>TTP ğŸ”</span>
      </a>
    </li>
    
    <li class="menu-item-artefacts db ğŸº">
      <a href="/docs/artefacts">
        <span>Artefacts DB ğŸº</span>
      </a>
    </li>
    
    <li class="menu-item-attacks db âš”ï¸">
      <a href="/docs/attacks">
        <span>Attacks DB âš”ï¸</span>
      </a>
    </li>
    
    <li class="menu-item-tools db ğŸ› ï¸">
      <a href="/docs/tools">
        <span>Tools DB ğŸ› ï¸</span>
      </a>
    </li>
    
    <li class="menu-item-crypto ğŸ—ï¸">
      <a href="/docs/cryptography">
        <span>Crypto ğŸ—ï¸</span>
      </a>
    </li>
    
    <li class="menu-item-about me ğŸ§ğŸ½â€â™€ï¸">
      <a href="/docs/about">
        <span>About me ğŸ§ğŸ½â€â™€ï¸</span>
      </a>
    </li>
    
  </ul>
</div>
    
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
    
    <div style="margin-left: 20pt;">
      <a href="/index.xml" type="application/rss+xml">
        <img src="/images/rss.png" alt="RSS Feed">
      </a>
    </div>
    
    <style>
      a[href="/index.xml"] {
        display: inline-block;
        vertical-align: middle;
        margin-right: 10px;
      }
    
      a[href="/index.xml"] img {
        height: 30px;
      }
    </style>
    
  </div>
</div>


    
    
    
    
    
    

    
    <div class="container pt-2 pt-md-6 pb-3 pb-md-6">
      <div class="row">
        <div class="col-12 col-md-3 mb-3">
          <div class="sidebar">
            
<div class="docs-menu">
  <p>
   <a href="/docs/attacks/protocols/asp/"> ğŸ‘ˆğŸ¼ Back to </br> ğŸ“š Session, Presentation, Application Layer </a>
  </p>
  <aside>
   <nav id="TableOfContents">
  <ul>
    <li><a href="#ftp">FTP</a>
      <ul>
        <li><a href="#active-mode">Active mode</a>
          <ul>
            <li><a href="#steps">Steps</a></li>
          </ul>
        </li>
        <li><a href="#passive-mode">Passive mode</a>
          <ul>
            <li><a href="#steps-1">Steps</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#-btfm">ğŸ“˜ BTFM</a>
      <ul>
        <li><a href="#-rtfm">ğŸ“• RTFM</a></li>
      </ul>
    </li>
    <li><a href="#references">References</a></li>
  </ul>
</nav>
 </aside>
</div>



          </div>
        </div>
        <div class="col-12 col-md-9">
          
<h1 class="title">FTP and sFTP</h1>
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    <div class="meta">
      
      

      
      

      
    </div>
    
    <b>Created:</b> 16.05.2023
    <br />

    

  </header>


  <div class="content" itemprop="articleBody">
    <p><em>This is about &hellip; .</em></p>
<h2 id="ftp">FTP</h2>
<p><strong>Port 20</strong>: for data exchange
<strong>Port 21</strong>: establishing connection and command channel</p>
<h3 id="active-mode">Active mode</h3>
<p>No firewall in between. The server initiates a connection for data transfer. That means more risk for the client.</p>
<h4 id="steps">Steps</h4>
<p>Client ğŸ opens a port, say, <code>1069</code>.</p>
<p><img src="images/open-ftp-port.png" alt="img"></p>
<p>The client ğŸ then informs the server ğŸŒ¸ via the <code>PORT 1069</code> command over the server&rsquo;s <code>21</code>st port.</p>
<p><img src="images/port-send.png" alt="img"></p>
<p>The server connects to this port and sends the data from its <code>20</code>th port.</p>
<p><img src="images/data-send.png" alt="img"></p>
<p>Why is it more risky for the client? Because the client ğŸ is open for connections for some time. Most often, the firewall blocks most of the connections not initiated by the client. To allow this mode to work, one must allow the inbound connection, which might be risky. Also, the client ğŸ is sharing its IP address and port number. What if the server is not untrusted? What if these requests are logged somewhere?</p>
<h3 id="passive-mode">Passive mode</h3>
<p>This mode is usually used when the client ğŸ has a firewall that blocks incoming connections. It means less risk for the client and more risk for the server ğŸŒ¸.</p>
<h4 id="steps-1">Steps</h4>
<p>The client ğŸ sends a <code>PASV</code> to the <code>21</code>st port of the server ğŸŒ¸ basically saying <em>&ldquo;I want to use the passive mode&rdquo;</em>.</p>
<p><img src="images/rev-1.png" alt="img">
<img src="images/rev-2.png" alt="img"></p>
<p><img src="images/rev-3.png" alt="img"></p>
<p><img src="images/rev-4.png" alt="img"></p>
<h2 id="-btfm">ğŸ“˜ BTFM</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ABOR
</span></span><span style="display:flex;"><span>LIST
</span></span><span style="display:flex;"><span>DELE
</span></span><span style="display:flex;"><span>MKD
</span></span><span style="display:flex;"><span>PWD
</span></span><span style="display:flex;"><span>QUIT
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><h3 id="-rtfm">ğŸ“• RTFM</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>brew unlink telnet <span style="color:#75715e"># for macOS if the telnet was already installed</span>
</span></span><span style="display:flex;"><span>brew install inetutils
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ftp &lt;IP&gt;
</span></span><span style="display:flex;"><span><span style="color:#75715e"># When prompted for the username, type</span>
</span></span><span style="display:flex;"><span>anonymous
</span></span><span style="display:flex;"><span><span style="color:#75715e"># for password just hit Enter</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># on macOS let gftp to accept incoming connection or else you won&#39;t be able to browse the FTP server. The server will respond with 200 PORT command successful. Consider using PASV, then hanging for a while and then puking the 425 Failed to establish connection. message. </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ls <span style="color:#75715e"># browse</span>
</span></span><span style="display:flex;"><span>get <span style="color:#75715e"># get file</span>
</span></span></code></pre></div><h2 id="references">References</h2>
<details>
    <summary>Expand&hellip;</summary>
    Something here
</details>
  </div>
</article>
</div>
</div>

        </div>
      </div>
    </div>
    
  </div>

  <div class="sub-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="sub-footer-inner">
          <ul>
            <li class="zerostatic"><a href="https://www.zerostatic.io">www.zerostatic.io</a></li>
            </ul>
        </div>
      </div>
    </div>
  </div>
</div>

  

  
  

  
  <script type="text/javascript" src="/js/scripts.js"></script>
  

  


</body>

</html>
